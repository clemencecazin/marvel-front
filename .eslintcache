[{"/Users/clemencecazin/LeReacteur/React/Marvel/front/src/index.js":"1","/Users/clemencecazin/LeReacteur/React/Marvel/front/src/App.js":"2","/Users/clemencecazin/LeReacteur/React/Marvel/front/src/containers/Comics.js":"3","/Users/clemencecazin/LeReacteur/React/Marvel/front/src/containers/Home.js":"4","/Users/clemencecazin/LeReacteur/React/Marvel/front/src/containers/Characters.js":"5","/Users/clemencecazin/LeReacteur/React/Marvel/front/src/components/Header.js":"6","/Users/clemencecazin/LeReacteur/React/Marvel/front/src/containers/Favorites.js":"7","/Users/clemencecazin/LeReacteur/React/Marvel/front/src/components/CardCharacter.js":"8","/Users/clemencecazin/LeReacteur/React/Marvel/front/src/components/ListingCharacters.js":"9","/Users/clemencecazin/LeReacteur/React/Marvel/front/src/containers/Login.js":"10","/Users/clemencecazin/LeReacteur/React/Marvel/front/src/containers/Signup.js":"11"},{"size":219,"mtime":1613573769008,"results":"12","hashOfConfig":"13"},{"size":2770,"mtime":1617963709639,"results":"14","hashOfConfig":"13"},{"size":2593,"mtime":1613942986330,"results":"15","hashOfConfig":"13"},{"size":333,"mtime":1613641575392,"results":"16","hashOfConfig":"13"},{"size":5231,"mtime":1617900514549,"results":"17","hashOfConfig":"13"},{"size":814,"mtime":1617900179249,"results":"18","hashOfConfig":"13"},{"size":1492,"mtime":1617962627270,"results":"19","hashOfConfig":"13"},{"size":2831,"mtime":1617965095028,"results":"20","hashOfConfig":"13"},{"size":2489,"mtime":1617184740621,"results":"21","hashOfConfig":"13"},{"size":2530,"mtime":1617964804461,"results":"22","hashOfConfig":"13"},{"size":2903,"mtime":1617964999125,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"1e8pbv9",{"filePath":"27","messages":"28","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"26"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/clemencecazin/LeReacteur/React/Marvel/front/src/index.js",[],["48","49"],"/Users/clemencecazin/LeReacteur/React/Marvel/front/src/App.js",["50","51"],"/Users/clemencecazin/LeReacteur/React/Marvel/front/src/containers/Comics.js",[],"/Users/clemencecazin/LeReacteur/React/Marvel/front/src/containers/Home.js",[],"/Users/clemencecazin/LeReacteur/React/Marvel/front/src/containers/Characters.js",["52","53","54","55"],"import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Cookies from \"js-cookie\";\nimport ListingCharacters from \"../components/ListingCharacters\";\n\nconst Characters = ({ userToken }) => {\n    const [data, setData] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [resultSearch, setresultSearch] = useState(\"\");\n    const [next, setNext] = useState();\n    const [page, setPage] = useState(1);\n    const [skip, setSkip] = useState(0);\n    const limit = 100;\n\n    const [iconStyle, setIconStyle] = useState(\"icon\");\n    let icon = false;\n    let cookie = Cookies.get(\"fav\");\n    const [favorite, setFavorite] = useState(\n        (cookie && JSON.parse(cookie)) || [[]]\n    );\n\n    // const [tabId, setTabId] = useState([]);\n\n    useEffect(() => {\n        const fetchData = async (event) => {\n            // Définit le nombre de résultat que l'on veut sur la page\n            try {\n                const response = await axios.get(\n                    `https://marvel-backend-clemence.herokuapp.com/characters/?name=${resultSearch}&skip=${skip}&limit=${limit}`\n                );\n\n                console.log(response.data);\n                setNext(response.data.characters.count);\n                // Assigne la query limit pour lier au back\n                const characters = response.data.characters.results;\n                // console.log(characters);\n\n                // Adding Fav icon in every objects\n                for (let i = 0; i < characters.length; i++) {\n                    characters[i].icon = false;\n                    // console.log(characters[i]);\n                }\n                setData(characters);\n\n                setIsLoading(false);\n            } catch (error) {\n                console.log(error.message);\n            }\n        };\n        fetchData();\n    }, [resultSearch, skip]);\n\n    const addFavorites = (fav) => {\n        // Reçoit l'objet mis en favori quand on a cliqué\n        console.log(\"data\");\n\n        console.log(data);\n        console.log(\"fav\");\n\n        const newTabFav = [...favorite];\n\n        console.log(newTabFav);\n\n        const exist = newTabFav.find((elem) => elem._id === fav._id);\n        if (userToken) {\n            if (!exist) {\n                newTabFav.push(fav);\n                alert(\"Personnage ajouté aux favoris  !\");\n                data.icon = true;\n                fav.icon = true;\n            } else {\n                alert(\"Ce personnage est déjà dans vos favoris !\");\n            }\n        } else {\n            alert(\"Créez vous un compte pour ajouter aux favoris\");\n        }\n\n        Cookies.set(\"fav\", JSON.stringify(newTabFav), {\n            expires: 2000,\n        });\n    };\n\n    const handleCheck = (icon) => {\n        console.log(data.icon);\n\n        if (data.icon) {\n            return <FontAwesomeIcon className=\"red\" icon=\"heart\" />;\n        } else {\n            return <FontAwesomeIcon className={iconStyle} icon=\"heart\" />;\n        }\n    };\n\n    const nextPage = () => {\n        if (page * limit < next) {\n            setPage(page + 1);\n            let newSkip = skip + limit;\n            setSkip(newSkip);\n        }\n    };\n\n    const previousPage = () => {\n        if (page * limit < next) {\n            setPage(page - 1);\n            let newSkip = skip - limit;\n            setSkip(newSkip);\n        }\n    };\n\n    return isLoading ? (\n        <div className=\"loading\">\n            <div>\n                <strong>Page en cours de chargement...</strong>\n            </div>\n        </div>\n    ) : (\n        <div className=\"bg-white\">\n            <div className=\"next-previous\">\n                {page > 1 && (\n                    <button\n                        onClick={() => {\n                            previousPage();\n                        }}\n                    >\n                        <div>\n                            <FontAwesomeIcon\n                                className={iconStyle}\n                                icon=\"caret-left\"\n                            />\n                            Page précédente\n                        </div>\n                    </button>\n                )}\n\n                <button\n                    onClick={() => {\n                        nextPage();\n                    }}\n                >\n                    <div>\n                        Page suivante\n                        <FontAwesomeIcon\n                            className={iconStyle}\n                            icon=\"caret-right\"\n                        />\n                    </div>\n                </button>\n            </div>\n            <div className=\"comics\">\n                <div>\n                    <input\n                        type=\"search\"\n                        placeholder=\"Rechercher un personnage\"\n                        onChange={(event) => {\n                            setresultSearch(event.target.value);\n                            console.log(resultSearch);\n                        }}\n                    />\n                </div>\n\n                <ListingCharacters data={data} addFavorites={addFavorites} />\n            </div>\n        </div>\n    );\n};\n\nexport default Characters;\n","/Users/clemencecazin/LeReacteur/React/Marvel/front/src/components/Header.js",[],"/Users/clemencecazin/LeReacteur/React/Marvel/front/src/containers/Favorites.js",[],"/Users/clemencecazin/LeReacteur/React/Marvel/front/src/components/CardCharacter.js",[],"/Users/clemencecazin/LeReacteur/React/Marvel/front/src/components/ListingCharacters.js",[],"/Users/clemencecazin/LeReacteur/React/Marvel/front/src/containers/Login.js",["56"],"/Users/clemencecazin/LeReacteur/React/Marvel/front/src/containers/Signup.js",["57","58"],{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","replacedBy":"62"},{"ruleId":"63","severity":1,"message":"64","line":22,"column":12,"nodeType":"65","messageId":"66","endLine":22,"endColumn":20},{"ruleId":"63","severity":1,"message":"67","line":22,"column":22,"nodeType":"65","messageId":"66","endLine":22,"endColumn":33},{"ruleId":"63","severity":1,"message":"68","line":16,"column":23,"nodeType":"65","messageId":"66","endLine":16,"endColumn":35},{"ruleId":"63","severity":1,"message":"69","line":17,"column":9,"nodeType":"65","messageId":"66","endLine":17,"endColumn":13},{"ruleId":"63","severity":1,"message":"67","line":19,"column":22,"nodeType":"65","messageId":"66","endLine":19,"endColumn":33},{"ruleId":"63","severity":1,"message":"70","line":84,"column":11,"nodeType":"65","messageId":"66","endLine":84,"endColumn":22},{"ruleId":"63","severity":1,"message":"71","line":12,"column":11,"nodeType":"65","messageId":"66","endLine":12,"endColumn":19},{"ruleId":"63","severity":1,"message":"72","line":9,"column":12,"nodeType":"65","messageId":"66","endLine":9,"endColumn":17},{"ruleId":"63","severity":1,"message":"73","line":9,"column":19,"nodeType":"65","messageId":"66","endLine":9,"endColumn":27},"no-native-reassign",["74"],"no-negated-in-lhs",["75"],"no-unused-vars","'favorite' is assigned a value but never used.","Identifier","unusedVar","'setFavorite' is assigned a value but never used.","'setIconStyle' is assigned a value but never used.","'icon' is assigned a value but never used.","'handleCheck' is assigned a value but never used.","'location' is assigned a value but never used.","'phone' is assigned a value but never used.","'setPhone' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]